name: Auto Commit Random (realistic)

on:
  schedule:
    # Ch·∫°y 1 l·∫ßn/ng√†y (v√≠ d·ª• 7h s√°ng VN)
    - cron: '0 0 * * *'
  workflow_dispatch:

jobs:
  auto-commit:
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Create multiple random commits
        run: |
          git config user.name "prompttocode"
          git config user.email "namvu3121@gmail.com"

          # Random s·ªë commit trong ng√†y (11‚Äì15)
          COUNT=$((11 + RANDOM % 5))
          echo "üåÄ Will create $COUNT commits today"

          for i in $(seq 1 $COUNT)
          do
            # random th·ªùi gian ngh·ªâ gi·ªØa c√°c commit (3‚Äì45 ph√∫t)
            DELAY=$((180 + RANDOM % 2700))
            echo "‚è≥ Commit $i/$COUNT ‚Üí waiting $DELAY seconds (~$((DELAY/60)) mins)"
            sleep $DELAY

            git commit --allow-empty -m "üî• Keep streak alive #$i $(date +'%Y-%m-%d %H:%M:%S')" || echo "No commit"
            git push
          done
